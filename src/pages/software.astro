---
import { getCollection } from "astro:content";
import SoftwareListing from "@components/SoftwareListing";
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";

// Filter blog entries with 'draft: false' & date before current date
// const publishedBlogEntries = await getCollection("software", ({ data }) => {
//   return !data.draft && data.publishDate < new Date();
// });

const softwareEntries = await getCollection("software");

// // Sort content entries by publication date
// publishedBlogEntries.sort(function (a, b) {
//   return b.data.publishDate.valueOf() - a.data.publishDate.valueOf();
// });
---

<Layout title="Softwares">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Find Your Perfect Tool</Fragment>
      <Fragment slot="desc">
        With hundreds of tools to explore, use our search and filters to find
        the right ones for your needs quickly.
      </Fragment>
    </Sectionhead>
    <SoftwareListing client:load softwareEntries={softwareEntries} />
  </Container>
</Layout>
